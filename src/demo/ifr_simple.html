<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="styles.css" />
<title>简单的聊天（右下角）</title>
</head>
<body>
    <div class="wrapper">

        <div class="content">
            <p>页面任意位置，可以添加聊天按钮...</p>
            <ul>
                <li><a class="webim-chatbtn" href="#"
                    id="webim-chatid-1" data-id="1" data-name="user1" data-avatar="">聊天按钮1</a>
                    <em id="webim-chatid-state-1">下线</em>
                    </li>
                <li><a class="webim-chatbtn" href="#"
                    id="webim-chatid-2" data-id="2" data-name="user2" data-avatar="">聊天按钮2</a>
                    <em id="webim-chatid-state-2">下线</em>
                    </li>
                <li><a class="webim-chatbtn" href="#"
                    id="webim-chatid-3" data-id="3" data-name="user3" data-avatar="">聊天按钮3</a>
                    <em id="webim-chatid-state-3">下线</em>
                    </li>
                <li><a class="webim-chatbtn" href="#"
                    id="webim-chatid-4" data-id="4" data-name="user4" data-avatar="">聊天按钮4</a>
                    <em id="webim-chatid-state-4">下线</em>
                    </li>
                <li><a class="webim-chatbtn" href="#"
                    id="webim-chatid-5" data-id="5" data-name="user5" data-avatar="">聊天按钮5</a>
                    <em id="webim-chatid-state-5">下线</em>
                    </li>
                <li><a class="webim-chatbtn" href="#"
                    id="webim-chatid-6" data-id="6" data-name="user6" data-avatar="">聊天按钮6</a>
                    <em id="webim-chatid-state-6">下线</em>
                    </li>
                <li><a class="webim-chatbtn" href="#"
                    id="webim-chatid-7" data-id="7" data-name="user7" data-avatar="">聊天按钮7</a>
                    <em id="webim-chatid-state-7">下线</em>
                    </li>
                <li><a class="webim-chatbtn" href="#"
                    id="webim-chatid-8" data-id="8" data-name="user8" data-avatar="">聊天按钮8</a>
                    <em id="webim-chatid-state-8">下线</em>
                    </li>
                <li><a class="webim-chatbtn" href="#"
                    id="webim-chatid-9" data-id="9" data-name="user9" data-avatar="">聊天按钮9</a>
                    <em id="webim-chatid-state-9">下线</em>
                    </li>
            </ul>
        </div>

    </div>
    
	<script type="text/javascript" src="../script/nextalk-main.js"></script>
	<script type="text/javascript">
        nextalkMain.setConfig({
            // 引入资源文件的根路径
            resPath : '/nextalk-webim-song/src/',
            // API根路径
            apiPath : '/nextalk-webim-song/',
            // 嵌入窗口右下角
            iframe : true,
            // 简易版本
            simple : true,
            chatlinkIds : '1,2,3,4,5,6,7,8,9',
            chatlinkEls : [document.getElementById('webim-chatid-1'),
                           document.getElementById('webim-chatid-2'),
                           document.getElementById('webim-chatid-3'),
                           document.getElementById('webim-chatid-4'),
                           document.getElementById('webim-chatid-5'),
                           document.getElementById('webim-chatid-6'),
                           document.getElementById('webim-chatid-7'),
                           document.getElementById('webim-chatid-8'),
                           document.getElementById('webim-chatid-9')],
            onPresences : function(data) {
                if (data) {
                    for (var key in data) {
                        if (data[key] != 'unavailable') {
                            document.getElementById('webim-chatid-state-'+key).innerText = '在线';
                        }
                    }
                }
            },
            // API路由
            route : {
                online : "online.do",
                offline : "offline.do",
                buddies : "buddies.do",
                remove_buddy : "remove_buddy.do",
                deactivate : "refresh.do",
                message : "message.do",
                presence : "presence.do",
                status : "status.do",
                setting : "setting.do",
                history : "history.do",
                clear : "clear_history.do",
                download : "download_history.do",
                // room actions
                invite : "invite.do",
                join : "join.do",
                leave : "leave.do",
                block : "block.do",
                unblock : "unblock.do",
                members : "members.do",
                // notifications
                notifications : "notifications.do",
                // upload files
                upload : "upload.do"
            }
        });
        nextalkMain.go();
    </script>

</body>
</html>